---
type: page
title: app directory の Route Handlers を使う
---

# `app` directory の Route Handlers を使う

公式ドキュメント  
[Routing: Route Handlers | Next.js](https://beta.nextjs.org/docs/routing/route-handlers)

## 書き方

これまで `pages` directory では例えば `/pages/api/hello.ts` を作成して以下のように書いていましたが、

```typescript
import type { NextApiHandler } from 'next';

const handler = ((_req, res) => {
  res.json({ msg: 'Hello world!' });
}) satisfies NextApiHandler;

export default handler;
```

`app` directory で同じことをする場合は、`/app/hello/route.tsx` を作成して以下のように書きます。

```typescript
import { type NextMiddleware, NextResponse } from 'next/server';

export const GET = ((_req) => {
  return NextResponse.json({ msg: 'Hello world!' });
}) satisfies NextMiddleware;
```

## 変わったこと

- `app` directory 自体の変更と言えますが、
